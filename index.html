<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>あんスタ推し診断</title>
<style>
/* 全体の横幅をスマホ向けに調整 */
body {
  font-size: 18px;   /* ← 全体の文字が大きくなる */
  line-height: 1.6;
  padding: 0 15px;
  font-family: sans-serif;
}

h1 {
  text-align: center;
  font-size: 28px;
  margin-top: 20px;
}

#questions {
  max-width: 600px;
  margin: 0 auto;
}

.likert {
  display: flex;
  align-items: center;   /* ← 丸の中心が横一列に揃う */
  gap: 14px;
}

/* 質問ブロック */
.likert-block {
  display: flex;
  align-items: center;   /* ← 丸とラベルの中心が揃う */
  justify-content: center;
  gap: 20px;
}

/* 左右ラベル */
.left-label, .right-label {
  display: flex;
  align-items: center;   /* ← ラベルの文字の中心も揃う */
  justify-content: center;
  width: 90px;
  font-size: 16px;
}

/* 丸の大きさ（スマホ向けに大きめ） */
/* 基本の丸（サイズはここでは指定しない） */
.likert span {
  display: inline-flex;
  align-items: center;   /* ← 丸の内部の中心を揃える */
  justify-content: center;
  line-height: 0;        /* ← 高さズレ防止の決定打 */
  border-radius: 50%;
  border: 2px solid #ccc;
  cursor: pointer;
  transition: 0.2s;
}

/* 1番目（左端） → 一番大きい */
.likert label:nth-child(1) span {
  width: 32px;
  height: 32px;
}

/* 2番目 → 中くらい */
.likert label:nth-child(2) span {
  width: 26px;
  height: 26px;
}

/* 3番目（中央） → 一番小さい */
.likert label:nth-child(3) span {
  width: 20px;
  height: 20px;
}

/* 4番目 → 中くらい */
.likert label:nth-child(4) span {
  width: 26px;
  height: 26px;
}

/* 5番目（右端） → 一番大きい */
.likert label:nth-child(5) span {
  width: 32px;
  height: 32px;
}

/* 左側（1〜3）：緑系の枠だけ */
.likert label:nth-child(1) span {
  border-color: #4CAF50;
  background-color: transparent;
}

.likert label:nth-child(2) span {
  border-color: #7ED957;
  background-color: transparent;
}

.likert label:nth-child(3) span {
  border-color: #c0c0c0;
  background-color: transparent;
}

/* 右側（4〜5）：紫系の枠だけ */
.likert label:nth-child(4) span {
  border-color: #D1C4E9;
  background-color: transparent;
}

.likert label:nth-child(5) span {
  border-color: #7E57C2;
  background-color: transparent;
}

.likert label:nth-child(1) span { color: #4CAF50; }
.likert label:nth-child(2) span { color: #7ED957; }
.likert label:nth-child(3) span { color: #c0c0c0; }
.likert label:nth-child(4) span { color: #D1C4E9; }
.likert label:nth-child(5) span { color: #7E57C2; }

.likert input:checked + span {
  background-color: currentColor; /* ← 枠線と同じ色で塗りつぶす */
  border-color: currentColor;
  transform: scale(1.15);
}

.likert input {
  display: none;
}

button[type="submit"] {
  display: block;
  margin: 30px auto;
  padding: 14px 20px;
  font-size: 20px;
  width: 80%;          /* ← スマホで押しやすい */
  max-width: 300px;
  border-radius: 8px;
  background-color: #4CAF50;
  color: white;
  border: none;
  cursor: pointer;
}

button[type="submit"]:hover {
  background-color: #45a049;
}

/* 結果画面の画像 */
.char-icon {
  width: 90px;
  height: 90px;
  border-radius: 50%;
  object-fit: cover;
  margin: 10px auto;
  display: block;
}

/* 一致度バー */
.match-bar {
  width: 90%;
  height: 14px;
  background: #eee;
  border-radius: 7px;
  margin: 10px auto;
  overflow: hidden;
}

.match-bar-fill {
  height: 100%;
  background: #4CAF50;
  transition: width 0.6s ease;
}

/* 結果全体を中央揃え */
#result {
  text-align: center;
  font-size: 18px;
  margin-top: 40px;
}

.rank-block h2, .rank-block h3 {
  font-size: 24px;
}
</style>
</head>
<body>

<h1>あんスタ推し診断</h1>
<form id="quizForm">

  <!-- 1〜14問を自動生成するための枠 -->
  <div id="questions"></div>

  <button type="submit">診断する</button>
</form>

<script>
// 14問のテキスト
const questions = [
  "正統派ヒーローより、ダークでヴィランっぽいキャラが好き。",
  "天才肌でなんでもこなすキャラより、努力家に惹かれる。",
  "人に世話を焼かれたり、甘えたりするキャラが好き。",
  "現実よりも、夢や理想を語るキャラに惹かれる。",
  "素直に気持ちを表せない、ツンデレ気質のキャラが好きだ。",
  "静かで落ち着いたキャラより、賑やかで明るいキャラに惹かれる。",
  "芸術肌な感性をもつキャラより、体育会系のアツいキャラが好き。",
  "情緒の波が大きい、感情豊かなキャラに惹かれる。",
  "クセが強くて個性的なキャラより、親しみやすいキャラが好き。",
  "幼さやショタっぽさのあるキャラに惹かれる。",
  "中性的で柔らかいキャラよりも、男らしくてかっこいいキャラが好き。",
  "誰かに依存する側よりも、依存される側のキャラが好き。",
  "本音をあまり語らず、内面を隠すキャラが気になる。",
  "清廉で純粋なキャラより、妖艶でミステリアスなキャラに惹かれる。"
];

// HTMLに質問を生成
const axisLabels = [
  ["ヒーロー", "ヴィラン"],
  ["天才肌", "努力家"],
  ["面倒見が良い", "支えられたり甘える"],
  ["現実的", "夢や理想"],
  ["素直", "ツンデレ"],
  ["静か", "賑やか"],
  ["芸術肌", "体育会系"],
  ["穏やかで安定", "情緒が激しい"],
  ["クセが強い", "親しみやすい"],
  ["ショタっぽくない", "ショタっぽい"],
  ["中性的", "男らしい"],
  ["依存する側", "依存される側"],
  ["言語化する", "本音を隠す"],
  ["清廉で純粋", "妖艶でミステリアス"]
];

const container = document.getElementById("questions");

questions.forEach((q, i) => {
  const div = document.createElement("div");
  div.className = "question";
  div.innerHTML = `
    <p><b>Q${i+1}.</b> ${q}</p>

    <div class="likert-block">
      <span class="left-label">${axisLabels[i][0]}</span>

      <div class="likert">
        <label><input type="radio" name="q${i}" value="1" required><span></span></label>
        <label><input type="radio" name="q${i}" value="2"><span></span></label>
        <label><input type="radio" name="q${i}" value="3"><span></span></label>
        <label><input type="radio" name="q${i}" value="4"><span></span></label>
        <label><input type="radio" name="q${i}" value="5"><span></span></label>
      </div>

      <span class="right-label">${axisLabels[i][1]}</span>
    </div>
  `;
  container.appendChild(div);
});

// 回答送信
document.getElementById("quizForm").addEventListener("submit", function(e){
  e.preventDefault();

  const answers = [];
  for (let i = 0; i < 14; i++) {
    answers.push(Number(document.querySelector(`input[name="q${i}"]:checked`).value));
  }

  // 結果ページへ渡す
  localStorage.setItem("userAnswers", JSON.stringify(answers));
  window.location.href = "result.html";
});
</script>

</body>
</html>